<!DOCTYPE html>
<html>
<head>
    <title>Test API Server</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .endpoint { background: #f5f5f5; padding: 20px; margin: 10px 0; border-radius: 5px; }
        .method { color: #007cba; font-weight: bold; }
        .url { color: #333; font-family: monospace; }
        .response { background: #e8f5e8; padding: 10px; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>ðŸ§ª Test API Server</h1>
    <p>This server simulates the KPI endpoint for testing the job scheduler.</p>
    
    <div class="endpoint">
        <h3>Available Endpoints:</h3>
        <p><span class="method">POST</span> <span class="url">/report/afternoon</span></p>
        <p><span class="method">GET</span> <span class="url">/health</span></p>
        <p><span class="method">GET</span> <span class="url">/status</span></p>
    </div>

    <div class="endpoint">
        <h3>Expected Response for KPI Job:</h3>
        <div class="response">
            <pre>{
  "status": "success",
  "timestamp": "2025-08-01T13:01:00.000Z",
  "data": {
    "report_type": "afternoon_kpi",
    "user_activity": {
      "total_calls": 45,
      "avg_duration": "3m 24s",
      "success_rate": 0.89
    }
  }
}</pre>
        </div>
    </div>

    <div class="endpoint">
        <h3>Testing Instructions:</h3>
        <ol>
            <li>Update your <code>jobs.yaml</code> to point to <code>http://localhost:8080/report/afternoon</code></li>
            <li>Set your JWT token in the <code>.env</code> file</li>
            <li>Run the job scheduler with Docker Compose</li>
            <li>Check the logs to see if the job executes successfully</li>
        </ol>
    </div>
</body>
</html> 